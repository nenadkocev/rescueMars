# rescueMars
Проектна задача по предметот Визуелно Програмирање
1. Апликацијата што е развиена наликува на ретро sci-fi игра каде главниот херој е пилот испратен
на мисија на Марс. На патот кон Марс пилотот ќе наидува на бројни препреки како астероиди и непријателски летала.
Негова задача е да не се судри со некој од астероидите, а истовремето да се одбрани од нападите на непријателски летала. Постојат повеќе
видови на непријателски летала, секое со различна брзина и моќност на оружјето кое го користи. Играчот пред почетокот на играта може да одбере
едно од трите ниво: Easy, Medium и Hard. Со секое ниво се менува брзината на непријателските летала. Играчот може да пука кон нив со притискање CTRL.
2. Во апликацијата се користат две форми, една за воведниот дел на играта во која е опишана целта на играта и главната форма врз која се 
цртаат сите слики и објекти. Во главната форма се чуваат три тајмери. Тајмнрот timer е активен во текот на играта. Тајмерот credits се активира при успешно завршување на играта. Тајмерот multipleKeysDown е искористен за да се фаќаат повеќе евенти од типот KeyDown во исто време.
  Во текот на играта потребно е исцртување на повеќе објекти: летала, астероиди, ласери/ракети и експлозии. За секој од објектите постои посебна класа со соодветните атрибути и методи. Класата Game служи за иницијализација на играта и во неа се наоѓаат методите за исцртување на постоечките објекти, нивното поместување, додавање и бришење. Атрибути во оваа класa се: објект од класата GoodGuy која е наследена од класата Spaceship, листа од астероиди, листа од непријателски летала, две листи за ласерите/ракетите и листа за експлозии. 
  
  3. Објаснување за класата Hal (непријателските летала)
  Конструктор:
  ```
  public Hal(int x, int y, int health, int firePower, string fireName, Bitmap bitmap, int speed, int fireSpeed)
            :base(x, y, health, firePower, fireName, bitmap, speed, fireSpeed){}
```

  Во контструкторот се примаат аргументи за секој од атрибутите на едно летало како координати, јачина на оружје, типот на оружјето, битмапа од самото летало, неговата брзина како и брзината на оружјето. Оваа класа е наследена од апстрактната класа Spaceship и затоа се повикува base конструктор. 
  
  Функција за движење:
  ```
          public void Move(int x, int y)
        {
            var n = Math.Abs(x - X);
            var nspeed = n > speed ? speed : n;
            if (x > X)
                X += nspeed;
            else
                X -= nspeed;
            if (Y < y)
                Y += speed;
        }
```
  Оваа функција го придвижува леталото во насока на неговиот непријател. Параметарот x е x координатата на напријателското летало. Во зависност од тој параметар леталото се придвижува на лево или десно. Параметарот y е максималната вредност на y за леталото. Доколку моменталната вредност е помала од максималната, се зголемува.
  
  Функција за пукање:
  ```
          public Ray Fire(int x1, int x2)
        {
            var middle = X + bitmap.Width / 2;
            if(middle >= x1 && middle <= x2)
            {
                var start = new Point(X, Y - 15);
                Ray ray = new Ray(start, FirePower, fireName, fireSpeed);
                return ray;
            }

            return null;
        }
```
  Оваа функција враќа објект од типот Ray (ласер/ракета) или null object. Како параметри се примаат почетната и крајната x координата на непријателско летало. Доколку леталото со координати x1, x2 се наоѓа во паралела со леталото чија функција се повикува, тогаш се враќа објект од типот Ray, а инаку се враќа null. Оваа функција всушност служи за пукање кон друг објект само доколку тој објект може да се погоди од моменталната позиција.
  
  Функција за проверка дали леталото е погодено:
  ```public override void isHit(Ray ray)
        {
            int x1 = ray.p1.X;
            int x2 = ray.p1.X + ray.width;

            int x3 = X;
            int x4 = X + bitmap.Width;

            if (x1 > x3 && x1 < x4 || x2 > x3 && x2 < x4)
            {
                int y = ray.p1.Y;
                if (Y < y && y < Y + bitmap.Height - bitmap.Height/4)
                {
                    ray.valid = false;
                    Health -= ray.damage;
                    alive = Health > 0;
                }
            }
        }
```
  Оваа функција прима објект од типот Ray и проверува дали тој објект се преклопува со леталото. Доколку се преклопува се ажурираат Health атрибутот на леталото и атрибутот за функционалност на леталото. 
  4. Screenshots од играта
![screenshot_1](https://user-images.githubusercontent.com/32780138/41423720-5ecef66c-6ffc-11e8-8eca-22f3e7fc04e4.png)

  
